2019-03-19 17:32:07 [scrapy.core.scraper] ERROR: Error processing {'img_urls': ['https://img.91goodschool.com/UpFiles/ag/4507/2020/201811/01/102435870709_100_100.jpg']}
Traceback (most recent call last):
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in process_item
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in <listcomp>
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 50, in get_media_requests
    if 'img_urls' in [i for i in item.keys()]:
AttributeError: 'NoneType' object has no attribute 'keys'
2019-03-19 17:32:07 [scrapy.core.scraper] ERROR: Error processing {'img_urls': ['https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102037557939.jpg',
              'https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102047776637.jpg',
              'https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102052229961.jpg',
              'https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102058385107.jpg']}
Traceback (most recent call last):
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in process_item
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in <listcomp>
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 50, in get_media_requests
    if 'img_urls' in [i for i in item.keys()]:
AttributeError: 'NoneType' object has no attribute 'keys'
2019-03-19 17:32:28 [scrapy.core.scraper] ERROR: Error processing {'branch_schools': [{'addr': '深圳市龙岗区布吉大芬桂…',
                     'content': '地铁：3号线丹竹头站；<br/>公交：m227、m324、m491路到桂芳园站。',
                     'id': 8826,
                     'lat': 22.622693,
                     'lng': 114.150745,
                     'name': '布吉校区',
                     'showLogin': True},
                    {'addr': '深圳市福田区彩田路…',
                     'content': '地铁：2号线岗厦北站；<br/>公交：m115路到武警中队站。',
                     'id': 8827,
                     'lat': 22.5491,
                     'lng': 114.075482,
                     'name': '福田校区',
                     'showLogin': True}],
 'name': '深圳塔塔瑜伽学院',
 'origin_level': 'V2',
 'origin_url': 'https://www.91goodschool.com/school/4507.html',
 'school_area_type': 0}
Traceback (most recent call last):
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 43, in process_item
    good_home_w.write_data(item=item)
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 31, in write_data
    self.cursor.execute(res_sql, item)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/cursors.py", line 168, in execute
    query = self.mogrify(query, args)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/cursors.py", line 147, in mogrify
    query = query % self._escape_args(args, conn)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/cursors.py", line 127, in _escape_args
    return {key: conn.literal(val) for (key, val) in args.items()}
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/cursors.py", line 127, in <dictcomp>
    return {key: conn.literal(val) for (key, val) in args.items()}
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/connections.py", line 467, in literal
    return self.escape(obj, self.encoders)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/connections.py", line 460, in escape
    return converters.escape_item(obj, self.charset, mapping=mapping)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/converters.py", line 25, in escape_item
    val = encoder(val, charset, mapping)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/pymysql/converters.py", line 42, in escape_sequence
    return "(" + ",".join(n) + ")"
TypeError: sequence item 0: expected str instance, dict found
2019-03-19 17:32:28 [scrapy.core.scraper] ERROR: Error processing {'img_urls': ['https://img.91goodschool.com/UpFiles/ag/4507/2020/201811/01/102435870709_100_100.jpg']}
Traceback (most recent call last):
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in process_item
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in <listcomp>
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 50, in get_media_requests
    if 'img_urls' in [i for i in item.keys()]:
AttributeError: 'NoneType' object has no attribute 'keys'
2019-03-19 17:32:28 [scrapy.core.scraper] ERROR: Error processing {'img_urls': ['https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102037557939.jpg',
              'https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102047776637.jpg',
              'https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102052229961.jpg',
              'https://img.91goodschool.com/UpFiles/ag/4507/2021/201811/01/102058385107.jpg']}
Traceback (most recent call last):
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in process_item
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/scrapy/pipelines/media.py", line 80, in <listcomp>
    dlist = [self._process_request(r, info) for r in requests]
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 50, in get_media_requests
    if 'img_urls' in [i for i in item.keys()]:
AttributeError: 'NoneType' object has no attribute 'keys'
2019-03-19 18:10:50 [scrapy.core.scraper] ERROR: Error processing {'branch_schools': [{'addr': '深圳市龙岗区布吉大芬桂…',
                     'content': '地铁：3号线丹竹头站；<br/>公交：m227、m324、m491路到桂芳园站。',
                     'id': 8826,
                     'lat': 22.622693,
                     'lng': 114.150745,
                     'name': '布吉校区',
                     'showLogin': True},
                    {'addr': '深圳市福田区彩田路…',
                     'content': '地铁：2号线岗厦北站；<br/>公交：m115路到武警中队站。',
                     'id': 8827,
                     'lat': 22.5491,
                     'lng': 114.075482,
                     'name': '福田校区',
                     'showLogin': True}],
 'name': '深圳塔塔瑜伽学院',
 'origin_level': 'V2',
 'origin_url': 'https://www.91goodschool.com/school/4507.html',
 'school_area_type': 0}
Traceback (most recent call last):
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 39, in process_item
    item = dict(item)
TypeError: 'NoneType' object is not iterable
2019-03-19 18:13:05 [scrapy.core.scraper] ERROR: Error processing {'branch_schools': [{'addr': '深圳市龙岗区布吉大芬桂…',
                     'content': '地铁：3号线丹竹头站；<br/>公交：m227、m324、m491路到桂芳园站。',
                     'id': 8826,
                     'lat': 22.622693,
                     'lng': 114.150745,
                     'name': '布吉校区',
                     'showLogin': True},
                    {'addr': '深圳市福田区彩田路…',
                     'content': '地铁：2号线岗厦北站；<br/>公交：m115路到武警中队站。',
                     'id': 8827,
                     'lat': 22.5491,
                     'lng': 114.075482,
                     'name': '福田校区',
                     'showLogin': True}],
 'name': '深圳塔塔瑜伽学院',
 'origin_level': 'V2',
 'origin_url': 'https://www.91goodschool.com/school/4507.html',
 'school_area_type': 0}
Traceback (most recent call last):
  File "/home/zhangyanqing/anaconda3/envs/spider/lib/python3.6/site-packages/twisted/internet/defer.py", line 654, in _runCallbacks
    current.result = callback(current.result, *args, **kw)
  File "/home/zhangyanqing/python/work/scrapy_project/scrapy_project/pipelines.py", line 39, in process_item
    item = dict(item)
TypeError: 'NoneType' object is not iterable
